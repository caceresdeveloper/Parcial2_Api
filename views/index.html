<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Inicio</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-T3c6CoIi6uLrA9TneNEoa7RxnatzjcDSCmG1MXxSR1GAsXEV/Dwwykc2MPK8M2HN" crossorigin="anonymous">
    <script src="js/scripts.js"></script>
  </head>
  <body>
    <h1>Lista de Platos</h1>
    <table border="1">
        <thead>
            <th>_id</th>
            <th>idDish</th>
            <th>Nombre del Plato</th>
            <th>Calor√≠as</th>
            <th>isVegetarian</th>
            <th>value</th>
            <th>comments</th>
        </thead>
        <tbody id="tBody">
            <script>
                loadData()
                    .then((result) => {
                        if (result.state) {
                            const tBody = document.getElementById('tBody');
    
                            result.data.forEach((dish) => {
                                const row = document.createElement('tr');
    
                                const colId = document.createElement('td');
                                colId.appendChild(document.createTextNode(dish._id));
                                row.appendChild(colId);
    
                                const colIdDish = document.createElement('td');
                                colIdDish.appendChild(document.createTextNode(dish.idDish));
                                row.appendChild(colIdDish);
    
                                const colName = document.createElement('td');
                                colName.appendChild(document.createTextNode(dish.name));
                                row.appendChild(colName);
    
                                const colCalories = document.createElement('td');
                                colCalories.appendChild(document.createTextNode(dish.calories));
                                row.appendChild(colCalories);
    
                                const colIsVegetarian = document.createElement('td');
                                colIsVegetarian.appendChild(document.createTextNode(dish.isVegetarian));
                                row.appendChild(colIsVegetarian);
    
                                const colValue = document.createElement('td');
                                colValue.appendChild(document.createTextNode(dish.value));
                                row.appendChild(colValue);
    
                                const colComments = document.createElement('td');
                                colComments.appendChild(document.createTextNode(dish.comments));
                                row.appendChild(colComments);
    
                                tBody.appendChild(row);
                            });
                        } else {
                            alert('Ho!! Algo ha salido mal');
                        }
                    })
                    .catch((err) => console.log(err));
            </script>
        </tbody>
    </table>
  </body>
</html>
